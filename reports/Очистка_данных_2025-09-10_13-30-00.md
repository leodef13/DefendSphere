# –û—Ç—á–µ—Ç: –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º—ã

**–î–∞—Ç–∞:** 2025-09-10 13:30:00  
**–°—Ç–∞—Ç—É—Å:** –ß–∞—Å—Ç–∏—á–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ  
**–ó–∞–¥–∞—á–∞:** –£–¥–∞–ª–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫—Ä–æ–º–µ admin –∏ jon, –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ Company LLD –∏ Watson Morris —Å –∏—Ö –∞–∫—Ç–∏–≤–∞–º–∏

## üìä –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã

### ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö

**1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (`backend/data/users.json`):**
- ‚ùå –£–¥–∞–ª–µ–Ω—ã: user1, user2, user3
- ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω—ã: admin, jon
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

**2. –ê–∫—Ç–∏–≤—ã Company LLD (`backend/data/assets.json`):**
- ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω—ã 4 –∞–∫—Ç–∏–≤–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –¥–∞—Ç—ã –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—Ü–µ–Ω–∫–∏

**3. –ê–∫—Ç–∏–≤—ã Watson Morris (`backend/data/watson-morris-assets.json`):**
- ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω—ã 2 –∞–∫—Ç–∏–≤–∞ (—É–¥–∞–ª–µ–Ω 3-–π)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –¥–∞—Ç—ã –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—Ü–µ–Ω–∫–∏

**4. MockRedis (`backend/mock-redis.js`):**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã user1, user2, user3
- ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω—ã admin –∏ jon

### ‚úÖ –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∫–∏ Redis

**–°–∫—Ä–∏–ø—Ç:** `backend/cleanup-real-redis.js`
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ Redis
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ admin –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –¥–æ—Å—Ç—É–ø–æ–º –∫–æ –≤—Å–µ–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ jon –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ Watson Morris
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–æ–≤ –¥–ª—è –æ–±–µ–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
- ‚úÖ –£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ –≤–Ω–µ—à–Ω–µ–º Redis (217.65.144.232:6380)

## üîç –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π

**1. –£–¥–∞–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤—Å–µ –µ—â–µ –¥–æ—Å—Ç—É–ø–Ω—ã:**
- user1: ‚ùå –í—Å–µ –µ—â–µ –º–æ–∂–µ—Ç –ª–æ–≥–∏–Ω–∏—Ç—å—Å—è
- user2: ‚ùå –í—Å–µ –µ—â–µ –º–æ–∂–µ—Ç –ª–æ–≥–∏–Ω–∏—Ç—å—Å—è  
- user3: ‚ùå –í—Å–µ –µ—â–µ –º–æ–∂–µ—Ç –ª–æ–≥–∏–Ω–∏—Ç—å—Å—è

**2. –ü—Ä–æ–±–ª–µ–º—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
- admin: ‚ùå `organizations: []` (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `['Company LLD', 'Watson Morris']`)
- jon: ‚úÖ `organizations: ['Watson Morris']` (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)

**3. –ü—Ä–æ–±–ª–µ–º—ã —Å –∞–∫—Ç–∏–≤–∞–º–∏:**
- admin: ‚ùå 0 –∞–∫—Ç–∏–≤–æ–≤ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 6)
- jon: ‚ùå 0 –∞–∫—Ç–∏–≤–æ–≤ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 2)

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º:

**1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
- –°–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ Redis –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ

**2. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:**
- –°–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å fallback –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–æ–≤
- MockRedis –º–æ–∂–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**3. –ü—Ä–æ–±–ª–µ–º—ã —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π:**
- Middleware –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
- –¢–æ–∫–µ–Ω—ã –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:

**1. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞:**
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
pm2 restart defendsphere-backend
# –∏–ª–∏
systemctl restart defendsphere
```

**2. –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞:**
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
redis-cli -h 217.65.144.232 -p 6380 FLUSHALL
```

**3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Redis
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ fallback –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç Redis

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

**1. –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö (Redis –∏–ª–∏ —Ñ–∞–π–ª—ã)
- –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏

**2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–∞–Ω–Ω—ã—Ö
- –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

**3. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- –°–æ–∑–¥–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | –°—Ç–∞—Ç—É—Å | –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ | –ê–∫—Ç–∏–≤—ã |
|-------------|--------|-------------|--------|
| **admin** | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω | Company LLD, Watson Morris | 6 –∞–∫—Ç–∏–≤–æ–≤ |
| **jon** | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω | Watson Morris | 2 –∞–∫—Ç–∏–≤–∞ |
| **user1** | ‚ùå –£–¥–∞–ª–µ–Ω | - | - |
| **user2** | ‚ùå –£–¥–∞–ª–µ–Ω | - | - |
| **user3** | ‚ùå –£–¥–∞–ª–µ–Ω | - | - |

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–°—Ç–∞—Ç—É—Å:** üü° **–ß–∞—Å—Ç–∏—á–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ**

- ‚úÖ –§–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∫–∏ Redis –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
- ‚ùå –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ —Ä–∞–±–æ—Ç–∞—é—â–µ–º —Å–µ—Ä–≤–µ—Ä–µ
- ‚ùå –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.